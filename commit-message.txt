feat(dashboard): comprehensive data schema v2.0 (83% coverage) + gap analysis

This commit significantly expands the dashboard data schema documentation from
20 to 43 entities (38% ‚Üí 83% coverage), adding all Phase 1 (Critical) and
Phase 2 (High Priority) database tables. Includes comprehensive gap analysis
and executive summary documenting remaining 9 operational tables.

**Major Update: DATA_SCHEMA.md v2.0**

Coverage Improvement:
- **Before**: 20 entities (38% of 52 total tables)
- **After**: 43 entities (83% of 52 total tables)
- **Added**: 23 new entities (Phase 1: 14 tables, Phase 2: 9 tables)

1. **Updated Data Schema (apps/dashboard/DATA_SCHEMA.md)**
   - Version upgraded from 1.0 ‚Üí 2.0
   - Now documents 43 of 52 database entities with complete TypeScript interfaces
   
   **Phase 1 - Critical Tables Added (14 entities):**
   - Subscription & Billing (5): subscription_plans, tenant_plan_assignments, features, 
     plan_entitlements, tenant_feature_overrides
   - IAM & Authentication (6): roles, user_roles, invitations, mfa_factors, sessions, 
     tenant_api_keys
   - Project & Methodology (2): methodologies, project_members
   - Registry Integration (1): tenant_registry_connections

   **Phase 2 - High Priority Tables Added (9 entities):**
   - Carbon Science (5): credit_transfers, credit_lineage, buffer_pools, 
     reversal_events, reversal_affected_credits
   - Verification Workflow (2): verification_clarifications, verification_reports
   - MRV Evidence (1): mrv_artifacts
   - Billing (1): invoices

   **Complete Coverage:**
   - 43 database entities with TypeScript interfaces, indexes, RLS policies
   - 15+ Redis cache patterns with namespace strategy
   - 5 browser storage schemas (localStorage + sessionStorage)
   - 6 API response schema categories
   - Data access patterns (cache-aside, write-through, batch, paginated)
   - Cache strategy with TTL guidelines (30s-24h) and 3 invalidation patterns
   - Data validation using Zod schemas with examples

2. **Check Summary (apps/dashboard/DATA_SCHEMA_CHECK_SUMMARY.md)**
   - Executive summary: 38% database coverage (20/52 tables)
   - Critical gaps: Subscription (5 tables), IAM (6 tables), Carbon science (5 tables)
   - 4-phase implementation roadmap (8-10 weeks to 100%)
   - State management impact: 26/44 categories blocked
   - Status: ‚ö†Ô∏è NOT READY FOR PRODUCTION

3. **Gap Analysis (apps/dashboard/DATA_SCHEMA_GAP_ANALYSIS.md)**
   - Comprehensive gap analysis vs. 52 database tables in migration
   - Originally identified 32 missing tables (now 23 added, 9 remaining)
   - 4-phase priority implementation roadmap with estimated timelines
   - 18 additional operational entities for monitoring & governance (Phase 3-4)
   - State management coverage analysis (now 82% of 44 categories have schema docs)
   - Cache schema gaps (9 missing patterns) and API response schema gaps (10 missing types)

**Impact:**

Unblocked State Management Categories:
- ‚úÖ #1: Authentication State (RBAC, sessions, MFA, API keys)
- ‚úÖ #2: Project State (methodologies, project members)
- ‚úÖ #7: Credit State (transfers, lineage)
- ‚úÖ #18: Carbon Science Integrity (buffer pools, reversals)
- ‚úÖ #21: Feature Flags & Entitlements (plans, features)
- ‚úÖ #34: Methodology State
- üîì Unblocked 26 of 44 state management categories (59% ‚Üí 82%)

Ready for Implementation:
- Multi-tenant subscription management ‚úÖ
- Role-based access control (RBAC) ‚úÖ
- Carbon credit transfers & lineage tracking ‚úÖ
- Buffer pool management (15% permanence reserve) ‚úÖ
- Reversal event handling (fire, disease, policy) ‚úÖ
- Verification clarifications workflow ‚úÖ
- MRV evidence artifact tracking ‚úÖ
- Feature flag enforcement per plan ‚úÖ

Remaining Work (9 tables, Phase 3-4):
- Enterprise features: SSO configurations, SCIM provisioning
- Event processing: Processed events, outbox events, audit events
- Operational monitoring: Circuit breakers, DLQ, consumer groups, adapter health

**State Management Updates (apps/dashboard/STATE_MANAGEMENT.md):**

Version 4.1 - Governance/Ops + Notification Delivery Tracking:
- Added 3 new state categories (#42-44):
  - Dispute / Appeal / Case Management State
  - SLO/SLA + Incident + Runbook + DR/Backup Operations State
  - Notification Delivery / Outbox / Provider Health State

Version 4.0 - Backend Operations & Event-Driven Architecture:
- Added 16 new state categories (#26-41):
  - Retirement Saga State (4-step workflow separate from credit issuance)
  - Event Replay & Recovery State (replay jobs, event store, snapshots)
  - Schema Registry State (versioning, compatibility, migrations)
  - Consumer Management State (health, lag alerts, backpressure)
  - API Idempotency State (cache, deduplication, replay detection)
  - Registry Adapter Health State (circuit breakers, retry queues, DLQ)
  - NEAR Indexer State (block sync, transaction monitoring)
  - Registry Requirements Catalog State (requirements per registry/methodology)
  - Methodology State (selection, formulas, result caching)
  - Retirement Certificate State (generation, IPFS storage, downloads)
  - Registry Cancellation State (requests, compensation tracking)
  - Circuit Breaker State (per-service state machine)
  - Dead Letter Queue State (messages, review workflow, resolution)
  - Event Store State (multi-tier storage: hot/warm/cold)
  - Snapshot/Checkpoint State (component snapshots, restore capability)
  - Process Timeout State (timeout config, ETA calculation, predictions)

**Key Improvements:**

Complete Architecture Coverage:
- Now covers 100% of backend operations from dmrv_saa_s_architecture_near_nft_design.md
- Sections 12-33 fully represented in state management
- Governance model (Section 21) with dispute resolution workflows
- SLO/SLA monitoring (Section 18.2) with incident management
- Notification delivery tracking (Section 27) with outbox pattern

State Categories Breakdown:
- Core Platform State: 17 categories (Phases 1-4: Weeks 1-8)
- Advanced Features: 8 categories (Phases 5-6: Weeks 9-12)
- Backend Operations: 16 categories (Phases 7-9: Weeks 13-18)
- Governance & Ops: 3 categories (Phase 10: Weeks 19-20)
- Total: 44 state categories + 14 advanced patterns

**New State Categories Details:**

#42 - Dispute / Appeal / Case Management State:
- Dispute case lifecycle (credit rejection, verification dispute, ownership, methodology)
- SLA tracking per dispute type (14-30 days)
- Escalation workflows (support ‚Üí dispute committee ‚Üí arbitration)
- Evidence attachments and case history
- Outcome tracking and resolution

#43 - SLO/SLA + Incident + Runbook + DR/Backup Operations State:
- Service Level Objectives monitoring (API availability, mint latency, registry sync)
- Incident management (P1-P4 tiers, response times, runbook execution)
- Disaster recovery readiness (RPO < 1 min, RTO < 15 min)
- Backup freshness tracking (database, event store, IPFS)
- Failover drill status and multi-region health

#44 - Notification Delivery / Outbox / Provider Health State:
- Unified outbox for email + webhook notifications
- Delivery attempt tracking with retry logic
- Provider health monitoring (email service, webhook endpoints)
- Suppression lists and bounce handling
- Delivery metrics (success rate, latency, failure reasons)

**Implementation Phases Updated:**

Phase 7: Backend Operations Monitoring (Weeks 13-14)
- Retirement Saga, Circuit Breakers, DLQ, Registry Adapters, NEAR Indexer

Phase 8: Event-Driven Architecture (Weeks 15-16)
- Event Replay, Schema Registry, Consumer Management, API Idempotency, Event Store

Phase 9: Advanced Operations (Weeks 17-18)
- Requirements Catalog, Methodology, Certificates, Cancellations, Snapshots, Timeouts

Phase 10: Governance & Reliability (Weeks 19-20) [NEW]
- Dispute Management, SLO/SLA Monitoring, Incident Management, Notification Delivery

**Documentation Updates:**

- Updated STATE_MANAGEMENT.md from v3.0 (25 categories) to v4.1 (44 categories)
- Added comprehensive TypeScript interfaces for all 19 new state categories
- Updated implementation roadmap with new phases
- Added version history tracking (v4.0 and v4.1)
- Updated summary section with complete category breakdown

**Architecture Alignment:**

Based on comprehensive analysis of:
- docs/architecture/COMPREHENSIVE_WORKFLOWS.md
- dmrv_saa_s_architecture_near_nft_design.md (Sections 12-33, 18, 21, 27)

**Impact:**

- Enables full-stack dashboard: frontend user interactions + backend operations monitoring
- Provides complete state for admin/operator dashboards
- Supports governance workflows (disputes, SLAs, incidents)
- Enables notification delivery observability
- Ready for implementation of all 44 state categories across 10 phases (20 weeks)

Breaking Changes: None (documentation only)

Related Files:
- apps/dashboard/STATE_MANAGEMENT.md (5,720 lines, v4.1)
- apps/dashboard/README.md (updated references)
